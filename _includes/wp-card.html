<div class="wp-card">
  <h2>{{ wp.id }} – {{ wp.title }}</h2>
  <p>{{ wp.description }}</p>

  {% assign subwp_count = wp.subwps | size %}

  {% if subwp_count > 1 %}
    <div class="subwp-list">
      {% for sub in wp.subwps %}
        <div class="subwp-card">
          <h3>{{ sub.id }} – {{ sub.title }}</h3>
          <p>{{ sub.description }}</p>
        </div>
      {% endfor %}
    </div>
  {% elsif subwp_count == 1 %}
    {% assign sub = wp.subwps[0] %}
    {% if sub.id == wp.id %}
      <!-- Just show description, no caption -->
      <p>{{ sub.description }}</p>
    {% else %}
      <!-- Show as a single sub-WP -->
      <h3>{{ sub.id }} – {{ sub.title }}</h3>
      <p>{{ sub.description }}</p>
    {% endif %}
  {% endif %}
</div>
